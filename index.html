<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ali A. Isse — Working Header</title>

<!-- ===== FULL CSS (inline) ===== -->
<style>
/* ========= THEME TOKENS ========= */
:root{
  --bg:#ffffff; --text:#1f2937; --muted:#6b7280; --link:#2563eb;
  --card:#f9fafb; --border:#e5e7eb;
  --header-bg:#1f2a44; --header-text:#e5e7eb; --header-muted:#cbd5e1;
}
:root[data-theme="dark"], body.dark{
  --bg:#0f172a; --text:#e5e7eb; --muted:#a1a1aa; --link:#93c5fd;
  --card:#111827; --border:#1f2937;
  --header-bg:#111827; --header-text:#e5e7eb; --header-muted:#cbd5e1;
}

/* ========= BASE ========= */
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font:16px/1.65 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";background:var(--bg);color:var(--text);transition:background-color .18s,color .18s}
a{color:var(--link);text-decoration:none}
a:hover{text-decoration:underline}
.container{max-width:1100px;margin:0 auto}

/* ========= HEADER ========= */
.site-header{background:var(--header-bg);color:var(--header-text);position:sticky;top:0;z-index:1000;border-bottom:1px solid rgba(0,0,0,.15)}
/* Desktop grid: [☰][Brand][Right Group (switch+nav)] */
.header-inner{display:grid;grid-template-columns:40px 1fr auto;align-items:center;gap:1rem;padding:.75rem 1rem}
.brand{color:var(--header-text);font-weight:700;text-decoration:none;white-space:nowrap}
.header-right{display:inline-flex;align-items:center;gap:.6rem}
.nav{display:flex;align-items:center;gap:.6rem}
.nav a{color:var(--header-text);padding:.25rem .45rem;border-radius:6px;font-weight:600;letter-spacing:.02em}
.nav a:hover{color:var(--header-muted)}
.nav a.active{color:var(--header-muted)}

/* Theme switch (single) */
.theme-switch{display:inline-flex;align-items:center;justify-content:center;width:36px;height:20px;cursor:pointer}
.theme-switch input{display:none}
.switch-slider{width:36px;height:20px;border-radius:999px;border:1.5px solid rgba(255,255,255,.55);background:rgba(255,255,255,.12);position:relative;box-sizing:border-box}
.switch-slider::before{content:"";position:absolute;top:50%;left:2.5px;width:14px;height:14px;transform:translateY(-50%);border-radius:50%;background:#fff;box-shadow:0 0 0 1px rgba(0,0,0,.15);transition:transform .18s}
.theme-switch input:checked + .switch-slider::before{transform:translate(18px,-50%)}

/* Hamburger button (visible on mobile) */
.menu-btn{display:none;align-items:center;justify-content:center;width:40px;height:40px;border:1px solid var(--border);border-radius:10px;background:var(--card);color:var(--text);font-size:1.2rem;line-height:1;cursor:pointer}

/* ========= PAGE LAYOUT (demo content) ========= */
main{padding:2rem 1rem}
h1{margin:.2rem 0 .6rem}
p{margin:.25rem 0 1rem}
.card{border:1px solid var(--border);background:var(--card);border-radius:10px;padding:1rem;margin:.75rem 0}

/* ========= MOBILE (<=760px) ========= */
@media (max-width:760px){
  /* Header becomes [☰][Brand][Switch] */
  .header-inner{grid-template-columns:40px 1fr 40px;min-height:56px}
  .menu-btn{display:inline-flex}
  .brand{justify-self:center;font-size:1.06rem}
  .header-right{justify-self:end}

  /* Nav becomes a dropdown sheet */
  .nav{
    position:fixed;left:0;right:0;top:56px;
    display:none;flex-direction:column;gap:.4rem;
    background:var(--card);border-top:1px solid var(--border);
    padding:1rem 1rem 1.2rem;z-index:2000;box-shadow:0 8px 24px rgba(0,0,0,.12)
  }
  .nav.open{display:flex}
  .nav a{padding:.6rem 0;display:block}

  .mobile-backdrop{
    display:none;
    position:fixed; inset:56px 0 0 0;
    background:rgba(0,0,0,.25); backdrop-filter:saturate(120%) blur(1px);
    z-index:1500;
  }
  .mobile-backdrop.show{display:block}
}
</style>
</head>
<body>

<!-- ===== HEADER ===== -->
<header class="site-header">
  <div class="container header-inner">
    <!-- ☰ (left on mobile) -->
    <button class="menu-btn" id="menuToggle" aria-label="Open menu" aria-controls="primaryNav" aria-expanded="false">☰</button>

    <!-- Brand -->
    <a class="brand" href="/">Ali A. Isse</a>

    <!-- Right: theme switch + nav -->
    <div class="header-right">
      <label class="theme-switch" title="Toggle dark mode">
        <input type="checkbox" id="themeSwitch" aria-label="Toggle dark mode" />
        <span class="switch-slider"></span>
      </label>
      <nav class="nav" id="primaryNav">
        <a href="/" class="active">Home</a>
        <a href="/Research.html">Research</a>
        <a href="/Teaching.html">Teaching</a>
        <a href="/CV.html">CV</a>
      </nav>
    </div>
  </div>
</header>
<div class="mobile-backdrop" id="mobileBackdrop"></div>

<!-- ===== MAIN (demo content so you can see it working) ===== -->
<main class="container">
  <h1>Header demo is working</h1>
  <div class="card">
    <p>• Resize your browser below 760px to see the hamburger appear (☰).</p>
    <p>• Tap ☰ to open the dropdown — you’ll see <strong>Home / Research / Teaching / CV</strong>.</p>
    <p>• Use the toggle on the top-right to switch dark mode; it <em>persists</em>.</p>
  </div>
  <div class="card">
    <p>This page is self-contained. Once you confirm it works, copy the <strong>header HTML</strong>, the <strong>CSS</strong>, and the <strong>JS</strong> into your site files.</p>
  </div>
</main>

<!-- ===== FOOTER (optional) ===== -->
<footer class="site-header" style="margin-top:2rem;">
  <div class="container" style="padding: .75rem 1rem; color:var(--header-text);">
    <small>@2025 Ali A. Isse</small>
  </div>
</footer>

<!-- ===== FULL JS (inline) ===== -->
<script>
(() => {
  const KEY = 'pref-theme';

  // ----- THEME -----
  function setTheme(mode) {
    const dark = mode === 'dark';
    const root = document.documentElement;
    const body = document.body;
    if (dark) { root.setAttribute('data-theme','dark'); body.classList.add('dark'); }
    else { root.removeAttribute('data-theme'); body.classList.remove('dark'); }
    try { localStorage.setItem(KEY, dark ? 'dark' : 'light'); } catch {}
  }
  function getInitialTheme() {
    try {
      const saved = localStorage.getItem(KEY);
      if (saved === 'dark' || saved === 'light') return saved;
    } catch {}
    return (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light';
  }

  function init(){
    // Theme
    const sw = document.getElementById('themeSwitch');
    setTheme(getInitialTheme());
    if (sw) {
      sw.checked = document.documentElement.getAttribute('data-theme') === 'dark';
      sw.addEventListener('change', () => setTheme(sw.checked ? 'dark' : 'light'));
    }

    // Mobile menu
    const btn = document.getElementById('menuToggle');
    const nav = document.getElementById('primaryNav');
    const backdrop = document.getElementById('mobileBackdrop');

    function openMenu(){
      if (!nav) return;
      nav.classList.add('open');
      if (btn) btn.setAttribute('aria-expanded','true');
      if (backdrop) backdrop.classList.add('show');
      document.documentElement.style.overflow = 'hidden';
      document.body.style.overflow = 'hidden';
    }
    function closeMenu(){
      if (!nav) return;
      nav.classList.remove('open');
      if (btn) btn.setAttribute('aria-expanded','false');
      if (backdrop) backdrop.classList.remove('show');
      document.documentElement.style.overflow = '';
      document.body.style.overflow = '';
    }
    function toggleMenu(){
      if (!nav) return;
      (nav.classList.contains('open') ? closeMenu : openMenu)();
    }

    if (btn && nav){
      btn.addEventListener('click', toggleMenu);
      // Close when a nav link is clicked
      nav.querySelectorAll('a').forEach(a => a.addEventListener('click', closeMenu));
      // Backdrop click closes
      if (backdrop) backdrop.addEventListener('click', closeMenu);
      // ESC closes
      window.addEventListener('keydown', e => { if (e.key === 'Escape') closeMenu(); });
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
</body>
</html>
